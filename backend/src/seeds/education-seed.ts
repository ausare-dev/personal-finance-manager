import { DataSource } from 'typeorm';
import { Article } from '../entities/article.entity';

export async function seedEducation(dataSource: DataSource): Promise<void> {
  const articleRepository = dataSource.getRepository(Article);

  const articles = [
    {
      title: 'Основы финансовой грамотности',
      summary: 'Познакомьтесь с базовыми понятиями финансовой грамотности и начните свой путь к финансовой независимости.',
      content: `# Основы финансовой грамотности

## Что такое финансовая грамотность?

Финансовая грамотность — это набор знаний, навыков и умений, необходимых для принятия эффективных финансовых решений и управления личными финансами.

## Ключевые принципы

### 1. Бюджетирование
Составление и ведение бюджета — это основа финансового планирования. Оно помогает:
- Контролировать доходы и расходы
- Планировать крупные покупки
- Избегать долгов

### 2. Накопления
Регулярные накопления создают финансовую подушку безопасности и помогают достигать финансовых целей.

### 3. Инвестирование
Инвестиции позволяют приумножать капитал и защищать его от инфляции.

### 4. Финансовая дисциплина
Следование финансовому плану и контроль расходов — залог финансового успеха.

## С чего начать?

1. Проанализируйте текущее финансовое состояние
2. Составьте личный бюджет
3. Определите финансовые цели
4. Начните откладывать деньги
5. Изучайте финансовые инструменты

Помните: финансовое благополучие — это марафон, а не спринт.`,
      category: 'Основы',
    },
    {
      title: 'Как вести бюджет: пошаговое руководство',
      summary: 'Узнайте, как правильно составить и вести личный бюджет для контроля над финансами.',
      content: `# Как вести бюджет: пошаговое руководство

## Зачем нужен бюджет?

Бюджет помогает:
- Понимать, куда уходят деньги
- Контролировать расходы
- Планировать крупные покупки
- Достигать финансовых целей

## Шаг 1: Учет доходов

Запишите все источники дохода:
- Зарплата
- Подработки
- Пассивный доход
- Прочие поступления

## Шаг 2: Учет расходов

Зафиксируйте все расходы:
- Постоянные (аренда, коммунальные услуги, кредиты)
- Переменные (еда, транспорт, развлечения)
- Непредвиденные

## Шаг 3: Категоризация

Разделите расходы на категории:
- Обязательные (жилье, питание, транспорт)
- Желательные (развлечения, хобби)
- Накопления и инвестиции

## Шаг 4: Анализ и оптимизация

Проанализируйте расходы и найдите возможности для экономии:
- Какие категории съедают больше всего средств?
- Где можно сократить расходы?
- Какие статьи можно оптимизировать?

## Шаг 5: Планирование

Составьте план на месяц/квартал/год:
- Запланируйте доходы
- Запланируйте расходы
- Определите сумму для накоплений

## Правило 50/30/20

- 50% — обязательные расходы
- 30% — желательные расходы и развлечения
- 20% — накопления и инвестиции

## Инструменты для ведения бюджета

- Тетрадь или таблица Excel
- Мобильные приложения
- Специализированные программы
- Онлайн-сервисы

## Советы

- Ведите учет регулярно (ежедневно или еженедельно)
- Будьте честны с собой
- Регулярно анализируйте результаты
- Корректируйте бюджет по необходимости`,
      category: 'Бюджетирование',
    },
    {
      title: 'Эффективные стратегии накопления',
      summary: 'Изучите различные методы накопления денег и выберите подходящую стратегию.',
      content: `# Эффективные стратегии накопления

## Зачем нужны накопления?

Накопления выполняют несколько важных функций:
- Финансовая подушка безопасности
- Достижение финансовых целей
- Покрытие непредвиденных расходов
- Инвестиционный капитал

## Стратегия 1: Правило "Заплати себе сначала"

Откладывайте деньги сразу после получения дохода, до всех остальных трат.

**Принцип:** Доход → Накопления → Расходы

## Стратегия 2: Автоматические переводы

Настройте автоматический перевод части дохода на отдельный счет.

**Преимущества:**
- Не нужно помнить о накоплениях
- Минимум соблазнов потратить деньги
- Регулярность и дисциплина

## Стратегия 3: Метод "конвертов"

Разделите деньги на категории и используйте разные "конверты" для разных целей.

**Категории:**
- Подушка безопасности
- Краткосрочные цели
- Долгосрочные цели
- Инвестиции

## Стратегия 4: "Округление"

Округляйте расходы и откладывайте разницу.

**Пример:** Потратили 147 рублей → отложите 3 рубля (округление до 150).

## Стратегия 5: "Нет тратам"

Откажитесь от одной или нескольких привычных трат и откладывайте эти деньги.

**Примеры:**
- Откажитесь от кофе навынос на неделю
- Готовьте дома вместо ресторанов
- Используйте общественный транспорт вместо такси

## Размер накоплений

### Подушка безопасности
- Минимум: 3-6 месячных расходов
- Идеально: 6-12 месячных расходов

### Для целей
- Краткосрочные (до 1 года): 10-20% от дохода
- Среднесрочные (1-5 лет): 15-25% от дохода
- Долгосрочные (5+ лет): 20-30% от дохода

## Где хранить накопления?

### Для подушки безопасности:
- Депозит с возможностью пополнения
- Накопительный счет
- Высоколиквидные инструменты

### Для целей:
- Депозиты
- Облигации
- Банковские вклады

## Советы

1. Начните с малого — даже 100-500 рублей в месяц
2. Увеличивайте сумму постепенно
3. Не трогайте накопления без крайней необходимости
4. Реинвестируйте полученные проценты
5. Отслеживайте прогресс

## Мотивация

Помните о целях:
- Подумайте о том, что дадут вам накопления
- Визуализируйте финансовые цели
- Отслеживайте прогресс
- Празднуйте достижения`,
      category: 'Накопления',
    },
    {
      title: 'Основы инвестирования для начинающих',
      summary: 'Введение в мир инвестиций: основные понятия, типы активов и стратегии.',
      content: `# Основы инвестирования для начинающих

## Что такое инвестиции?

Инвестиции — это вложение денежных средств с целью получения дохода в будущем.

## Зачем инвестировать?

- Приумножение капитала
- Защита от инфляции
- Пассивный доход
- Достижение финансовых целей
- Финансовая независимость

## Основные типы активов

### 1. Акции
Доля в собственности компании.

**Преимущества:**
- Высокий потенциал доходности
- Дивиденды

**Риски:**
- Волатильность
- Возможны потери

### 2. Облигации
Долговые ценные бумаги.

**Преимущества:**
- Стабильный доход
- Предсказуемость

**Риски:**
- Низкая доходность
- Инфляционный риск

### 3. Недвижимость
Покупка недвижимости для сдачи в аренду или перепродажи.

**Преимущества:**
- Стабильный доход от аренды
- Рост стоимости

**Риски:**
- Высокий порог входа
- Низкая ликвидность

### 4. Фонды
Инвестиционные фонды (ETF, ПИФы).

**Преимущества:**
- Диверсификация
- Профессиональное управление

**Риски:**
- Комиссии
- Зависимость от рынка

## Принципы инвестирования

### 1. Диверсификация
Распределение инвестиций между разными активами для снижения рисков.

### 2. Долгосрочность
Инвестиции работают лучше на длительных сроках.

### 3. Регулярность
Регулярные инвестиции (доллар-стоимость усреднение).

### 4. Инвестируйте только то, что можете потерять
Никогда не инвестируйте последние деньги или заемные средства.

## Начало инвестирования

### Шаг 1: Финансовая подушка
Сначала создайте подушку безопасности (3-6 месячных расходов).

### Шаг 2: Определите цели
- Краткосрочные (1-3 года)
- Среднесрочные (3-10 лет)
- Долгосрочные (10+ лет)

### Шаг 3: Оцените риск-профиль
- Консервативный
- Умеренный
- Агрессивный

### Шаг 4: Выберите инструменты
В соответствии с целями и риск-профилем.

### Шаг 5: Начните инвестировать
Начните с небольших сумм, учитесь на практике.

## Ошибки начинающих инвесторов

1. Эмоциональные решения
2. Отсутствие диверсификации
3. Попытки "угадать" рынок
4. Игнорирование комиссий
5. Отсутствие стратегии

## Советы

- Начните с изучения основ
- Используйте демо-счета для обучения
- Инвестируйте регулярно
- Не паникуйте при падении рынка
- Реинвестируйте доходы
- Регулярно пересматривайте портфель

Помните: инвестирование — это долгосрочная игра. Терпение и дисциплина — ключи к успеху.`,
      category: 'Инвестиции',
    },
    {
      title: 'Управление долгами и кредитами',
      summary: 'Узнайте, как эффективно управлять долгами, погашать кредиты и избегать долговых ловушек.',
      content: `# Управление долгами и кредитами

## Виды долгов

### Хорошие долги
- Ипотека (приобретение актива)
- Образовательные кредиты (инвестиция в будущее)
- Бизнес-кредиты (развитие бизнеса)

### Плохие долги
- Кредитные карты (потребительские товары)
- Микрозаймы
- Потребительские кредиты

## Стратегии погашения долгов

### Метод "Снежного кома"
Погашайте долги от меньшего к большему.

**Шаги:**
1. Составьте список всех долгов
2. Отсортируйте по сумме (от меньшей к большей)
3. Платите минимум по всем долгам
4. Все дополнительные деньги направляйте на самый маленький долг
5. После погашения переходите к следующему

**Преимущества:**
- Быстрые победы мотивируют
- Уменьшение количества кредиторов

### Метод "Лавины"
Погашайте долги от высоких процентов к низким.

**Преимущества:**
- Минимизация общей переплаты
- Экономия на процентах

## Планирование погашения

### Шаг 1: Инвентаризация долгов
Запишите все долги:
- Сумма
- Процентная ставка
- Минимальный платеж
- Срок погашения

### Шаг 2: Приоритизация
Определите порядок погашения по выбранной стратегии.

### Шаг 3: Бюджет
Выделите в бюджете сумму для погашения долгов.

### Шаг 4: Дополнительные источники
Найдите способы увеличить сумму погашения:
- Дополнительный доход
- Сокращение расходов
- Продажа ненужного

## Рефинансирование

Рассмотрите возможность рефинансирования:
- Объединение нескольких кредитов в один
- Снижение процентной ставки
- Увеличение срока погашения (осторожно!)

## Избегание долговых ловушек

### Правила:
1. Не берите новые кредиты для погашения старых
2. Избегайте микрозаймов
3. Читайте условия договора
4. Не используйте кредитную карту без необходимости
5. Всегда погашайте полную сумму кредитной карты

## Создание плана

1. **Оцените ситуацию**
   - Сколько всего долгов?
   - Какие процентные ставки?
   - Какие минимальные платежи?

2. **Установите цели**
   - Когда хотите погасить все долги?
   - Какую сумму можете выделять?

3. **Составьте план**
   - Выберите стратегию
   - Распишите по месяцам
   - Отслеживайте прогресс

## Советы

- Сначала погасите долги с высокими процентами
- Не пропускайте платежи
- Свяжитесь с кредиторами при проблемах
- Рассмотрите консолидацию долгов
- Избегайте новых долгов

## Восстановление после долгов

После погашения долгов:
1. Создайте финансовую подушку
2. Начните инвестировать
3. Строго контролируйте расходы
4. Избегайте новых долгов

Помните: избавление от долгов — это путь к финансовой свободе.`,
      category: 'Долги',
    },
  ];

  // Проверяем, есть ли уже статьи
  const existingArticles = await articleRepository.count();
  if (existingArticles > 0) {
    console.log('Education articles already exist, skipping seed...');
    return;
  }

  // Создаем статьи
  for (const articleData of articles) {
    const article = articleRepository.create(articleData);
    await articleRepository.save(article);
  }

  console.log(`Seeded ${articles.length} education articles`);
}

